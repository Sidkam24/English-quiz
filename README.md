# 音声合成音声認識機能付きの英会話学習支援Webアプリ
　URL：https://rikei-labo.com/app/quiz/kuizu.html
　※Google Chorome推奨（Web Speech APIのため）

## 目的・実績
　　国際化や社会のグローバル化は急速に進展しており、外国語によるコミュニケーション能力がより重要になっている。  
　新しい小学校学習指導要領では、平成32年度から、中学年に外国語活動、高学年に外国語科が全面的に導入された。  
　高学年の外国語活動の導入からすでに15年ほど経過しているものの、  
　まだまだ小学生向けの外国語科の学習教材が充実しているとは言い難い状況がある。  
   
　　小学校学習指導要領（平成29年告示）解説（外国語活動・外国語編）において、中学年の英語の目標として聞くこと、  
　話すこと[やり取り]、話すこと[発表]の3つの領域別に目標を設定している。そこで、話すこと[やり取り]については、  
　「基本的な表現を用いて挨拶、感謝、簡単な指示をしたり、それらに応じたりするようにする」と示されている。  
　　しかし、先行研究により、話すことを意識した外国語教材がまだほとんど開発されていない。  
　また中学生でも、英語の発音に問題があったり、苦手意識をしている生徒が多い。  

　　そこで、小中学生用の話すことを意識したクイズ形式のWebアプリを作ることにした。  
　話すことを意識させるためには、音声が必ず必要である。  
　つまり、音声を使ったクイズ形式の外国語教材を開発し、  
　子どもの英語力(主に話す力)を向上させることを意図したWebアプリ開発することにした。
  
　　作成後、実際に英語科の先生や教授、子どもたちにも試しに使ってみた。  
　マイクを使ったアプリなので、隣の人との音声が干渉するなどの課題はあったが、  
　発音を身に付けたり、英語を楽しく学べる点においては高評価だった。

　　この作成したアプリの実用性について、論文を書き、  
　「一般社団法人 日本産業技術教育学会 第 62 回全国大会（静岡）」で発表を行った。
  
## 【特徴】
　　特徴としては、日本語文章やイラストを表示し、それに対応する英文を発話することで、音声認識し、正誤判定を行うことである。   
　入力方法はテキスト入力と音声入力の2通りある。子どもの英語力を向上させるため、英語の発音やアクセントをより意識した  
　音声認識という機能を実装した。音声認識機能を用いているため、正しくない発音や誤った英文は不正解として判定される。  
　また、正しい発音例として音声合成機能を用いた発話も実現している。  

## 操作の流れ
　① 日本語で問題がランダムに表示され、その答えを適した英語で解答する。  
　　解答方法としてテキスト入力または音声入力がある。  
　　・テキスト入力の場合  
　　　　テキストボックスの中に答えを入力する。  
　　・音声入力の場合  
　　　「音声開始」ボタンを押してパソコン(マイク)に向けて答えを言う。  
　　　　すると、テキストボックスの中に認識した文字列が表示される。  
　② 答えを入力したら、「送信」ボタンを押すと、正誤判定される。  
　　間違っていれば、☓の音が鳴り答えを読み上げ、正解ならば○の音が鳴る。  
　③「次へ」ボタンを押すと、次の問題が表示される。  
　④ 全問終了すると、問題を解き始めてから解き終わるまでの時間が表示され、間違った問題を読み上げながら表示する。  
　⑤ ランキングの条件を満たしていれば、ニックネーム入力画面が表示され、ニックネームを入力する。  
　⑥ 次のお題を選択する。  
## 機能説明と工夫した点
① 音声認識と音声合成機能  
　　W3Cにより公開されているWeb Speech APIをプログラムに組み込むことにより、簡単に音声認識と音声合成機能が実装できる。  
　　Web Speech APIには、Speech Recognition API（音声認識）とSpeech Synthesis API（音声合成）の2つのAPI仕様から構成されている。  
　　しかし、音声認識において把握している限りでは、現在Chromeのブラウザでしか正式に対応しておらず、iOSには対応していない。  
　　つまり、現状把握できている限りでは、Chrome(Desktop/Android)のみでしか正式に使用できない。  
　　また、マイクとスピーカーの環境がないと使えない。  
② ノーマルモードとエンドレスモードの実装・お題の追加  
　　ノーマルモードとは、5問中何問正解できるかで正解数を判定するモードである。  
　　エンドレスモードとは、5問正解するまで問題を解き続けるモードである。  
　　Webアプリを開いた初期段階では、ノーマルモードで設定している。  
　　モードの変更はWebアプリ画面の左上にあるボタンを押すと、変更できる。  
　　また、初期のお題は「日常会話表現」となっているが、  
　　他に「職業」「職業～イラスト～」「会話表現」「英単語～発声～」の5つのお題を追加している。  
③ 終了までのタイムを測る機能  
　　テキスト入力の場合は、テキストボックスに焦点を当てた状態で入力し始めた瞬間にタイマーがスタートするよう設定している。  
　　音声入力の場合は、音声開始ボタンを押した瞬間にタイマーがスタートするようになっている。  
　　全問終了すると、タイマーはストップし、正解数とタイムがポップアップ画面で表示される。  
④ 間違った問題を表示し読み上げる機能  
　　もし間違った解答をしてしまった場合、正しい答えを赤字で表示するとともに、音声合成を用いて、読み上げる機能を実装している。  
　　そうすることで、子どもが正しい答えと発音をすぐに確認できるようにしている。  
　　また、タイムに関しては、送信ボタンを押した後はタイマー停止になるよう設定している。  
　　もし送信ボタンを押した後もタイマーが作動していたとすると、子どもはタイムばかりを気にしてしまい、  
　　間違った問題の確認や復習をせずに、次の問題に進んでしまう。    
　　つまり、本来の目的である英語力向上に支障が出てしまう。  
　　それを防ぐために、送信ボタンを押した後はタイマーを停止させ、しっかりと間違った問題を確認させることを目的としている。  
　　さらに、最後に間違った問題すべてを表示し読み上げる機能も実装している。  
　　そうすることで、間違った問題を発音も含め改めて確認でき、英語力向上につながる。  
⑤ 時間や問題数によるニックネーム付きランキング機能  
　　ノーマルモードでは満点者に、エンドレスモードでは全員を対象に、  
　　ニックネームを付けてランキングすることができる機能を実装している。  
　　そうすることで、よりゲーム性を高め、繰り返し学習を行うモチベーションを維持するとともに、  
　　子どもに楽しみながら学習させることができる。  
　　他者と競い合うことで、より上の順位を目指すようになる。  
　　そうなることで、日本語文章やイラストに対応する英文の確認や発音を練習するようになり、英語力向上につながる。  
　　ランキングの基準として、ノーマルモードではタイム、エンドレスモードでは「タイム×問題数」を基準にしている。  
⑥ 音声付き問題一覧の実装  
　　英文の所にカーソルを当てると、その英文の背景が青くなり、その範囲の文字も少し大きく表示する。  
　　英文をクリックすると、音声合成により英文を読み上げるようにしている。  
⑦ 辞書ページにジャンプする機能  
　　音声認識の応用で、音声開始ボタンを押し「dictionary」と言うと、  
　　weblio英和辞典・和英辞典のページにジャンプする機能を追加している。  
　　そうすることで、子どもが分からない所や疑問に思った所をすぐに調べることができ、  
　　学習効率を上げることができる。  
 
## 使用技術・API
・Web Speech API Speech Recognition  
・JavaScript  
・jQuery  
・HTML  
・CSS  
・PHP 

 
